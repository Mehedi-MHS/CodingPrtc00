<!DOCTYPE html>
<html>
<head>
<title>Drawing on canvas</title>
<meta name="viewport"content="width=device-width,initial-scale=1">
<meta charset="UTF-8" />
<style type="text/css">
canvas{
 background:silver;
}
</style>
</head>
<body>
<h3>Drawing on canvas</h3>
<div class="options">
   <button onclick="red()">Red</button>
   <button onclick="green()">Green</button>
   <button onclick="blue()">Blue</button>
   <button onclick="undo()">Undo</button>
   <button onclick="clr()">Clear</button>
   <button onclick="ne()">New</button>
   <a download="drawingShop.png" onclick="this.href=document.querySelector('canvas').toDataURL('Image/png')"><button>Download</button></a>
</div><br>
   
<canvas width="340"height="300"></canvas>

<script type="text/javascript">
var canvas=document.querySelector("canvas");
var ctx=canvas.getContext("2d");
var points=[];

canvas.addEventListener("mousemove",function abc(e){
   var cRect=canvas.getBoundingClientRect();
   var pX=Math.round(e.clientX-cRect.left);
   var pY=Math.round(e.clientY-cRect.top);
     points.push({x:pX,y:pY});
     draw();
});


function draw(){
   ctx.beginPath();
   ctx.moveTo(points[0].x,points[0].y);
     for (var i=0;i<points.length;i++){
       ctx.lineTo(points[i].x,points[i].y);
     }
   ctx.stroke();
}
     
     
     
     
  /// Control Options
     
     function red(){
       ctx.fillStyle="red";
       ctx.fill();
     }
     
     function green(){
       ctx.fillStyle="green";
       ctx.fill();
     }
     function blue(){
       ctx.fillStyle="blue";
       ctx.fill();
     }
     function undo(){
       ctx.clearRect(0,0,canvas.width,canvas.height);
       points.pop();
       draw();
     }
     function clr(){
        //removing all elements from array
        points.length=0;
        ctx.clearRect(0,0,canvas.width,canvas.height);
        draw();
     }
     function ne(){
       points.push();
       ctx.moveTo(points[points.length-1].x,points[points.length-1].y);
     }


</script>

</body>
</html>